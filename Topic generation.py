import telebot
from telebot import types
import g4f
import codecs
# –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ gpt (–ø—Ä–æ—Å—Ç–æ —á—Ç–æ–± –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–ª–æ –≤ —Å–∞–º–æ–º –∫–æ–¥–µ)
rulesForGPTPrompt = '–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é, –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã: –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –≤—ã–¥–∞–≤–∞—Ç—å—Å—è –Ω–∞  —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–ö—Ä–æ–º–µ —Ç–µ—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —Å–µ–∫—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥—Ä–æ–∑—É–º–µ–≤–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Å–µ–∫—Ü–∏—è) –ë–ï–ó –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –°–°–´–õ–û–ö'
createTopics = '–ö–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏–¥—É–º–∞–π 4 —Ç–µ–º—ã –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ (–û–¥–Ω–∏–º –∫–æ—Ä–æ—Ç–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –Ω–µ –±–æ–ª–µ–µ 10 —Å–ª–æ–≤) –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏'
createOtherTopics = '–ü—Ä–∏–¥—É–º–∞–π –∏ –ø—Ä–∏—à–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —á–µ—Ç—ã—Ä—ë—Ö —Ç–µ–º –¥–ª—è —à–∫–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–û–¥–Ω–∏–º –∫–æ—Ä–æ—Ç–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –Ω–µ –±–æ–ª–µ–µ 10 —Å–ª–æ–≤) –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏'
EOF = '–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ'
SIM = '–°—Ç–∞—Ä—Ç –≤ –º–µ–¥–∏—Ü–∏–Ω—É'
SFL = '–ù–∞—É–∫–∞ –¥–ª—è –∂–∏–∑–Ω–∏'
KP = '–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç - –æ—Ç –∑–Ω–∞–Ω–∏–π –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É'
# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ "–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ"
directivityForEOF = '1)	–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è —Ñ–∏–∑–∏–∫–∞; \n'+\
'2) –ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç; \n'+\
'3) –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã, –±–µ—Å–ø–∏–ª–æ—Ç–Ω—ã–µ –Ω–∞–∑–µ–º–Ω—ã–µ –∏ –≤–æ–¥–Ω—ã–µ –∞–ø–ø–∞—Ä–∞—Ç—ã; \n'+\
'4) –ü—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ, –º–∏–∫—Ä–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ —Å—Ö–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–∞; \n'+\
'5) –ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è —Ö–∏–º–∏—è, —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è; \n'+\
'6) –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –¥–∏–∑–∞–π–Ω –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞; \n'+\
'7) 3D-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, 3D-–ø–µ—á–∞—Ç—å –∏ VR/AR-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏; \n'+\
'8) –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤–µ–±-—Å–∞–π—Ç–æ–≤; \n'+\
'9) –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –º–µ–¥–∏—Ü–∏–Ω–µ, –±–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –ø—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ, –±–∏–æ–Ω–∏–∫–∞; \n'+\
'10) –≠–Ω–µ—Ä–≥–∏—è –±—É–¥—É—â–µ–≥–æ. –¶–∏—Ñ—Ä–æ–≤–∞—è —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞; \n'+\
'11) –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ —É–º–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞. –£–º–Ω–∞—è —à–∫–æ–ª–∞; \n'+\
'12) –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ —É–º–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞. –£–º–Ω–∞—è —à–∫–æ–ª–∞ (—Å–µ–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ); \n'+\
'13) –ê—ç—Ä–æ–∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã. –ë–µ—Å–ø–∏–ª–æ—Ç–Ω—ã–µ –∏ –ø–∏–ª–æ—Ç–∏—Ä—É–µ–º—ã–µ –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã–µ –∞–ø–ø–∞—Ä–∞—Ç—ã; \n'+\
'14) –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å; \n'+\
'15) –ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞; \n'+\
'16) –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–≤—è–∑–∏.'
# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ "–°—Ç–∞—Ä—Ç –≤ –º–µ–¥–∏—Ü–∏–Ω—É"
directivityForSIM = '1) –ê–Ω–∞—Ç–æ–º–∏—è –∏ —Ñ–∏–∑–∏–æ–ª–æ–≥–∏—è —á–µ–ª–æ–≤–µ–∫–∞; \n'+\
'2) –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–µ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞; \n'+\
'3) –ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∏ –±–∏–æ–∏–Ω–∂–µ–Ω–µ—Ä–∏—è –≤ –º–µ–¥–∏—Ü–∏–Ω–µ; \n'+\
'4) –ë–∏–æ—Ñ–∏–∑–∏–∫–∞; \n'+\
'5) –ë–∏–æ—Ö–∏–º–∏—è; \n'+\
'6) –ó–æ–æ–ª–æ–≥–∏—è –≤ –º–µ–¥–∏—Ü–∏–Ω–µ; \n'+\
'7) –ò—Å—Ç–æ—Ä–∏—è –º–µ–¥–∏—Ü–∏–Ω—ã; \n'+\
'8) –õ–µ–∫–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è; \n'+\
'9) –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –≥–µ–Ω–µ—Ç–∏–∫–∞; \n'+\
'10) –ú–∏–∫—Ä–æ–±–∏–æ–ª–æ–≥–∏—è –∏ —ç–ø–∏–¥–µ–º–∏–æ–ª–æ–≥–∏—è; \n'+\
'11) –û—Ç–∫—Ä—ã—Ç–∏–µ (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ); \n'+\
'12) –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –º–µ–¥–∏—Ü–∏–Ω–∞ –∏ –≥–∏–≥–∏–µ–Ω–∞; \n'+\
'13) –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏ —Å–æ—Ü–∏–æ–ª–æ–≥–∏—è; \n'+\
'14) –§–∞—Ä–º–∞—Ü–µ–≤—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è; \n'+\
'15) –•–∏–º–∏—è –≤ —Ñ–∞—Ä–º–∞—Ü–∏–∏ –∏ –º–µ–¥–∏—Ü–∏–Ω–µ; \n'+\
'16) –≠–∫–æ–ª–æ–≥–∏—è —á–µ–ª–æ–≤–µ–∫–∞'
# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ "–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç ‚Äî –æ—Ç –∑–Ω–∞–Ω–∏–π –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É"
directivityForKP = '1) –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ –≤ –Ω–∞—É–∫—É (1-4 –∫–ª–∞—Å—Å); \n '+\
'2) –ò–¥–µ—è; \n'+\
'3) –ú–µ—Ç–æ–¥; \n'+\
'4) –°—Ä–µ–¥–∞; \n'+\
'5) –ü–æ–∏—Å–∫; \n'+\
'6) –û—Ç–∫—Ä—ã—Ç–∏–µ ‚Äì —Å–ø–∏–∫–µ—Ä-—Å–µ—Ç –Ω–∞ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö'
# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ "–ù–∞—É–∫–∞ –¥–ª—è –∂–∏–∑–Ω–∏"
directivityForSFL_list_a = ['–ê–≥—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –°–µ–ª–µ–∫—Ü–∏—è –∏ —Å–µ–º–µ–Ω–æ–≤–æ–¥—Å—Ç–≤–æ', '–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è –∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ú–æ–ª–µ–∫—É–ª—è—Ä–Ω–∞—è –±–∏–æ–ª–æ–≥–∏—è. –ì–µ–Ω–µ—Ç–∏–∫–∞', '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞', '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞', '–ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç. –†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞', '–ù–µ–æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è. –ù–∞–Ω–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤–µ–¥–µ–Ω–∏–µ', '–ù–∞—É–∫–∏ –æ –ó–µ–º–ª–µ', '–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ-–Ω–∞—É—á–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã', '–û–ø—Ç–∏–∫–∞. –õ–∞–∑–µ—Ä–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è', '–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è —Ö–∏–º–∏—è', '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ –Ω–∞—É–∫–∏', '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏', '–§–∏–ª–æ–ª–æ–≥–∏—è', '–≠–∫–æ–ª–æ–≥–∏—è –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ', '–≠–∫–æ–ª–æ–≥–∏—è –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å–µ–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ)', '–≠–∫–æ–Ω–æ–º–∏–∫–∞', '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –ø—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ', '–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞']
directivityForSFL_list_b = ['–ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (5-6 –∫–ª–∞—Å—Å)', '–ü—Ä–æ–±–ª–µ–º—ã XXI –≤–µ–∫–∞ (7-9 –∫–ª–∞—Å—Å)', '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ XXI –≤–µ–∫–µ (7-9 –∫–ª–∞—Å—Å)', '–£—Ä–±–∞–Ω–∏—Å—Ç–∏–∫–∞: —Å—Ä–µ–¥–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (7-9 –∫–ª–∞—Å—Å)', '–ö—É–ª—å—Ç—É—Ä–Ω–æ-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±—Ä–∞–∑ –º–µ–≥–∞–ø–æ–ª–∏—Å–∞ (7-9 –∫–ª–∞—Å—Å)', '–ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (7-9 –∫–ª–∞—Å—Å)', '–ü—Ä–∞–≤–æ–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏–∫–∞ –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (7-9 –∫–ª–∞—Å—Å)', '–ü—Ä–æ–±–ª–µ–º—ã XXI –≤–µ–∫–∞ (10-11 –∫–ª–∞—Å—Å)', '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ XXI –≤–µ–∫–µ (10-11 –∫–ª–∞—Å—Å)', '–£—Ä–±–∞–Ω–∏—Å—Ç–∏–∫–∞: —Å—Ä–µ–¥–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (10-11 –∫–ª–∞—Å—Å)', '–ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (10-11 –∫–ª–∞—Å—Å)', '–ö—É–ª—å—Ç—É—Ä–Ω–æ-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±—Ä–∞–∑ –º–µ–≥–∞–ø–æ–ª–∏—Å–∞ (10-11 –∫–ª–∞—Å—Å)', 'Urban Life: Challenges and Opportunities / –ì–æ—Ä–æ–¥—Å–∫–∞—è –∂–∏–∑–Ω—å: –≤—ã–∑–æ–≤—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (10-11 –∫–ª–∞—Å—Å)', '–ì–æ—Ä–æ–¥ –∫–∞–∫ —É—á–µ–±–Ω–∏–∫: –æ–ø—ã—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ ¬´–ù–æ–≤—ã–π –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–π —à–∫–æ–ª–µ']
directivityForSFL_list_c = ['–ú–µ–¥–∏–∞–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞', '–ú–µ–¥–∏–∞–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö', '–§–æ—Ç–æ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞', '–†–∞–¥–∏–æ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞', '–¢–µ–ª–µ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞', '–†–µ–∫–ª–∞–º–∞ –∏ —Å–≤—è–∑–∏ —Å –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é', '–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ –∏ –∞—É–¥–∏–æ–≤–∏–∑—É–∞–ª—å–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞', '–ú–µ–¥–∏–∞-–∞—Ä—Ç', 'Urban Life: Challenges and Opportunities/–ì–æ—Ä–æ–¥: –≤—ã–∑–æ–≤—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å–µ–∫—Ü–∏—è –Ω–∞ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π/—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π/–Ω–µ–º–µ—Ü–∫–∏–π/–∏—Å–ø–∞–Ω—Å–∫–∏–π/–∫–∏—Ç–∞–π—Å–∫–∏–π)']
directivityForSFL_list_d = ['–ü–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ', '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ', '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ', '–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ —Å—Ñ–µ—Ä–µ —É—Å–ª—É–≥', '–¶–∏—Ñ—Ä–æ–≤–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ', '–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ–µ–∫—Ç—ã (—Å–µ–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ)']
directivityForSFL = 'a. –ú–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ –Ω–∞—É–∫–∏\n\n'+\
'1) –ê–≥—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –°–µ–ª–µ–∫—Ü–∏—è –∏ —Å–µ–º–µ–Ω–æ–≤–æ–¥—Å—Ç–≤–æ; \n'+\
'2) –ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è –∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏; \n'+\
'3) –ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ú–æ–ª–µ–∫—É–ª—è—Ä–Ω–∞—è –±–∏–æ–ª–æ–≥–∏—è. –ì–µ–Ω–µ—Ç–∏–∫–∞; \n'+\
'4) –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞; \n'+\
'5) –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞; \n'+\
'6) –ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç. –†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞; \n'+\
'7) –ù–µ–æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è. –ù–∞–Ω–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤–µ–¥–µ–Ω–∏–µ; \n'+\
'8) –ù–∞—É–∫–∏ –æ –ó–µ–º–ª–µ; \n'+\
'9) –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ-–Ω–∞—É—á–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã; \n'+\
'10) –û–ø—Ç–∏–∫–∞. –õ–∞–∑–µ—Ä–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏; \n'+\
'11) –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —Ö–∏–º–∏—è; \n'+\
'12) –ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è —Ö–∏–º–∏—è; \n'+\
'13) –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ –Ω–∞—É–∫–∏; \n'+\
'14) –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏; \n'+\
'15) –§–∏–ª–æ–ª–æ–≥–∏—è; \n'+\
'16) –≠–∫–æ–ª–æ–≥–∏—è –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ; \n'+\
'17) –≠–∫–æ–ª–æ–≥–∏—è –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å–µ–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ); \n'+\
'18) –≠–∫–æ–Ω–æ–º–∏–∫–∞; \n'+\
'19) –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –ø—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ; \n'+\
'20) –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞. \n\n'+\
'b.	–ú–µ–≥–∞–ø–æ–ª–∏—Å –∫–∞–∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —É—Å–ø–µ—Ö–∞ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏\n\n'+\
'1) –ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (5-6 –∫–ª–∞—Å—Å); \n'+\
'2) –ü—Ä–æ–±–ª–µ–º—ã XXI –≤–µ–∫–∞ (7-9 –∫–ª–∞—Å—Å); \n'+\
'3) –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ XXI –≤–µ–∫–µ (7-9 –∫–ª–∞—Å—Å); \n'+\
'4) –£—Ä–±–∞–Ω–∏—Å—Ç–∏–∫–∞: —Å—Ä–µ–¥–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (7-9 –∫–ª–∞—Å—Å); \n'+\
'5) –ö—É–ª—å—Ç—É—Ä–Ω–æ-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±—Ä–∞–∑ –º–µ–≥–∞–ø–æ–ª–∏—Å–∞ (7-9 –∫–ª–∞—Å—Å); \n'+\
'6) –ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (7-9 –∫–ª–∞—Å—Å); \n'+\
'7) –ü—Ä–∞–≤–æ–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏–∫–∞ –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (7-9 –∫–ª–∞—Å—Å); \n'+\
'8) –ü—Ä–æ–±–ª–µ–º—ã XXI –≤–µ–∫–∞ (10-11 –∫–ª–∞—Å—Å); \n'+\
'9) –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ XXI –≤–µ–∫–µ (10-11 –∫–ª–∞—Å—Å); \n'+\
'10) –£—Ä–±–∞–Ω–∏—Å—Ç–∏–∫–∞: —Å—Ä–µ–¥–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (10-11 –∫–ª–∞—Å—Å); \n'+\
'11) –ó–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ —Å–ø–æ—Ä—Ç –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (10-11 –∫–ª–∞—Å—Å); \n'+\
'12) –ö—É–ª—å—Ç—É—Ä–Ω–æ-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±—Ä–∞–∑ –º–µ–≥–∞–ø–æ–ª–∏—Å–∞ (10-11 –∫–ª–∞—Å—Å); \n'+\
'13) –ü—Ä–∞–≤–æ–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏–∫–∞ –≤ –º–µ–≥–∞–ø–æ–ª–∏—Å–µ (10-11 –∫–ª–∞—Å—Å); \n'+\
'14) Urban Life: Challenges and Opportunities / –ì–æ—Ä–æ–¥—Å–∫–∞—è –∂–∏–∑–Ω—å: –≤—ã–∑–æ–≤—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (10-11 –∫–ª–∞—Å—Å); \n'+\
'15) –ì–æ—Ä–æ–¥ –∫–∞–∫ —É—á–µ–±–Ω–∏–∫: –æ–ø—ã—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ ¬´–ù–æ–≤—ã–π –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–π —à–∫–æ–ª–µ; \n\n'+\
'c.	–ú–µ–¥–∏–∞—Å—Ç–∞—Ä—Ç\n\n'+\
'1)	–ú–µ–¥–∏–∞–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞; \n'+\
'2)	–ú–µ–¥–∏–∞–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö; \n'+\
'3)	–§–æ—Ç–æ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞; \n'+\
'4)	–†–∞–¥–∏–æ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞; \n'+\
'5)	–¢–µ–ª–µ–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞; \n'+\
'6)	–†–µ–∫–ª–∞–º–∞ –∏ —Å–≤—è–∑–∏ —Å –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é; \n'+\
'7)	–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ –∏ –∞—É–¥–∏–æ–≤–∏–∑—É–∞–ª—å–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞; \n'+\
'8)	–ú–µ–¥–∏–∞-–∞—Ä—Ç; \n'+\
'9)	Urban Life: Challenges and Opportunities/–ì–æ—Ä–æ–¥: –≤—ã–∑–æ–≤—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å–µ–∫—Ü–∏—è –Ω–∞ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π/—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π/–Ω–µ–º–µ—Ü–∫–∏–π/–∏—Å–ø–∞–Ω—Å–∫–∏–π/–∫–∏—Ç–∞–π—Å–∫–∏–π).\n\n'+\
'd.	–®–∞–≥ –≤ –±–∏–∑–Ω–µ—Å\n\n'+\
'1)	–ü–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ; \n'+\
'2)	–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ; \n'+\
'3)	–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ; \n'+\
'4)	–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ —Å—Ñ–µ—Ä–µ —É—Å–ª—É–≥; \n'+\
'5)	–¶–∏—Ñ—Ä–æ–≤–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ; \n'+\
'6)	–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ–µ–∫—Ç—ã (—Å–µ–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ);'

used_topics = []
bot = telebot.TeleBot('7496221021:AAEe3')#–°—é–¥–∞ API
@bot.message_handler(commands=['start'])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    bt_1 = types.KeyboardButton('–°–ø—Ä–∞–≤–∫–∞')
    bt_2 = types.KeyboardButton('–í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞')
    bt_3 = types.KeyboardButton('–°–æ–∑–¥–∞—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞')
    bt_4 = types.KeyboardButton('–£ –º–µ–Ω—è –µ—Å—Ç—å –∏–¥–µ—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞')
    markup.row(bt_2)
    markup.row(bt_4)
    markup.row(bt_1, bt_3)
    bot.send_message(message.chat.id, f'–ü—Ä–∏–≤–µ—Ç!\n –Ø - –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å —Ç–µ–º–æ–π –¥–ª—è —à–∫–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞!', reply_markup=markup)
    bot.register_next_step_handler(message, on_click)

def back_to_start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    bt_1 = types.KeyboardButton('–°–ø—Ä–∞–≤–∫–∞')
    bt_2 = types.KeyboardButton('–í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞')
    bt_3 = types.KeyboardButton('–°–æ–∑–¥–∞—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞')
    bt_4 = types.KeyboardButton('–£ –º–µ–Ω—è –µ—Å—Ç—å –∏–¥–µ—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞')
    markup.row(bt_2)
    markup.row(bt_4)
    markup.row(bt_1, bt_3)
    bot.send_message(message.chat.id, '–î–∞–≤–∞–π –≤–µ—Ä–Ω—ë–º—Å—è', reply_markup=markup)

def directions(message):
    bot.send_message(message.chat.id, '–í–æ—Ç 4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –≤—ã–±–æ—Ä')
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    bt_1 = types.KeyboardButton('–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ')
    bt_2 = types.KeyboardButton('–ù–∞—É–∫–∞ –¥–ª—è –∂–∏–∑–Ω–∏')
    bt_3 = types.KeyboardButton('–°—Ç–∞—Ä—Ç –≤ –º–µ–¥–∏—Ü–∏–Ω—É')
    bt_4 = types.KeyboardButton('–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç - –æ—Ç –∑–Ω–∞–Ω–∏–π –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É')
    bt_5 = types.KeyboardButton('–ù–∞–∑–∞–¥')
    markup.row(bt_1, bt_2)
    markup.row(bt_3, bt_4)
    markup.row(bt_5)
    bot.send_message(message.chat.id, '–í—ã–±–∏—Ä–∞–π —Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–µ–±–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è', reply_markup=markup)

def back_to_directions(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    bt_1 = types.KeyboardButton('–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ')
    bt_2 = types.KeyboardButton('–ù–∞—É–∫–∞ –¥–ª—è –∂–∏–∑–Ω–∏')
    bt_3 = types.KeyboardButton('–°—Ç–∞—Ä—Ç –≤ –º–µ–¥–∏—Ü–∏–Ω—É')
    bt_4 = types.KeyboardButton('–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç - –æ—Ç –∑–Ω–∞–Ω–∏–π –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É')
    bt_5 = types.KeyboardButton('–ù–∞–∑–∞–¥')
    markup.row(bt_1, bt_2)
    markup.row(bt_3, bt_4)
    markup.row(bt_5)
    bot.send_message(message.chat.id, '–í—ã–±–∏—Ä–∞–π —Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–µ–±–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è', reply_markup=markup)

def topics(message):
    bot.send_message(message.chat.id, '–í–æ—Ç 4 —Ç–µ–º—ã –Ω–∞ –≤—ã–±–æ—Ä')
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    bt_1 = types.KeyboardButton('–¢–µ–º–∞ ‚Ññ1')
    bt_2 = types.KeyboardButton('–¢–µ–º–∞ ‚Ññ2')
    bt_3 = types.KeyboardButton('–¢–µ–º–∞ ‚Ññ3')
    bt_4 = types.KeyboardButton('–¢–µ–º–∞ ‚Ññ4')
    bt_5 = types.KeyboardButton('–î—Ä—É–≥–∏–µ —Ç–µ–º—ã')
    bt_6 = types.KeyboardButton('–ù–∞–∑–∞–¥ –∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º')
    markup.row(bt_1, bt_2)
    markup.row(bt_3, bt_4)
    markup.row(bt_5)
    markup.row(bt_6)
    bot.send_message(message.chat.id, '–í—ã–±–∏—Ä–∞–π —Ç—É, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è', reply_markup=markup)



def get_chatgpt_response(prompt):
    response = g4f.ChatCompletion.create(
        model=g4f.models.gpt_4,
        messages=[{'role': 'user', 'content': prompt}],
    )
    return response


def split_vars(s):
    s = s.replace('1. ', '')
    s = s.replace('2. ', '')
    s = s.replace('3. ', '')
    s = s.replace('4. ', '')
    s = s.split(' \n')
    return s

def check_match(user_input):
    try:
        if len(user_input) > 5:
            splited_user_input = user_input.split(' - ')
            splited_user_input = splited_user_input[0]+splited_user_input[1][-4:]
            pattern = '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–¢–µ–º–∞'
            if splited_user_input == pattern:
                return True
            else:
                return False
    except IndexError:
        pass

fileObj = codecs.open("Engineers of the future.txt", "r", "utf_8_sig")
EOF_list = fileObj.read()
fileObj.close()

fileObj = codecs.open("Start in medicine.txt", "r", "utf_8_sig")
SIM_list = fileObj.read()
fileObj.close()

fileObj = codecs.open("Science for Life.txt", "r", "utf_8_sig")
SFL_list = fileObj.read()
fileObj.close()

fileObj = codecs.open("The Kurchatov Project.txt", "r", "utf_8_sig")
KP_list = fileObj.read()
fileObj.close()

def on_click(message):
    global sv
    global used_topics # –î–ª—è –¥—Ä—É–≥–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    global chosenDirecton # –î–ª—è –¥—Ä—É–≥–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    global chosen_section
    global chosen_undersection
    global chosen_underundersection
    global text
    if message.text == '–°–ø—Ä–∞–≤–∫–∞':
        bot.send_message(message.chat.id, '–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ "–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ"')
    elif message.text == '–í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞':
        directions(message)
    elif message.text == '–°–æ–∑–¥–∞—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞':
        bot.send_message(message.chat.id, f'–û—Ä–ª–æ–≤ –ï–≥–æ—Ä –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—á–∏\n –õ–µ–ø–Ω–∏–∫–æ–≤ –î–º–∏—Ç—Ä–∏–π –ê–ª–µ–∫—Å–µ–µ–≤–∏—á\n –ö–∏–º –í–∏—Ç–∞–ª–∏–π –í–∞–ª–µ—Ä—å—è–Ω–æ–≤–∏—á')
    elif message.text == '–£ –º–µ–Ω—è –µ—Å—Ç—å –∏–¥–µ—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞':
        bot.send_message(message.chat.id, '–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –¢–æ–≥–¥–∞ —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–æ—Å—Ç–≤–∏—Ç—å –ø–ª–∞–Ω –¥–ª—è –Ω–µ–≥–æ!\n\n –ù–∞–ø–∏—à–∏ –∫–∞–∫–æ–µ —É —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ç–µ–º–∞ –≤–æ—Ç —Ç–∞–∫:\n –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - {–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞}. –¢–µ–º–∞ - {—Ç–µ–º–∞ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞}')
    # =========================================================================================================== #
    elif message.text == '–ù–∞–∑–∞–¥':
        back_to_start(message)
    elif message.text == '–ò–Ω–∂–µ–Ω–µ—Ä—ã –±—É–¥—É—â–µ–≥–æ':
        bot.send_message(message.chat.id, '–•–æ—Ä–æ—à–æ, –∞ –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ —Å–µ–∫—Ü–∏—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?')
        bot.send_message(message.chat.id, f'{directivityForEOF}')
        bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏ –µ—ë –Ω–æ–º–µ—Ä –≤ —á–∞—Ç.')
        chosenDirecton = EOF
    elif message.text == '–ù–∞—É–∫–∞ –¥–ª—è –∂–∏–∑–Ω–∏':
        bot.send_message(message.chat.id, '–•–æ—Ä–æ—à–æ, –∞ –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ —Å–µ–∫—Ü–∏—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?')
        bot.send_message(message.chat.id, f'{directivityForSFL}')
        bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏ –µ—ë –Ω–æ–º–µ—Ä –≤ —á–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–±—É–∫–≤–∞) –∏ –ù–æ–º–µ—Ä (—á–∏—Å–ª–æ) —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª')
        chosenDirecton = SFL
    elif message.text == '–°—Ç–∞—Ä—Ç –≤ –º–µ–¥–∏—Ü–∏–Ω—É':
        bot.send_message(message.chat.id, '–•–æ—Ä–æ—à–æ, –∞ –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ —Å–µ–∫—Ü–∏—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?')
        bot.send_message(message.chat.id, f'{directivityForSIM}')
        bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏ –µ—ë –Ω–æ–º–µ—Ä –≤ —á–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ')
        chosenDirecton = SIM
    elif message.text == '–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç - –æ—Ç –∑–Ω–∞–Ω–∏–π –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É':
        bot.send_message(message.chat.id, '–•–æ—Ä–æ—à–æ, –∞ –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ —Å–µ–∫—Ü–∏—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?')
        bot.send_message(message.chat.id, f'{directivityForKP}')
        bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏ –µ—ë –Ω–æ–º–µ—Ä –≤ —á–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ')
        chosenDirecton = KP
    # =========================================================================================================== #
    elif message.text == '–î—Ä—É–≥–∏–µ —Ç–µ–º—ã':
        if chosenDirecton == EOF:
            text = EOF_list
            chosen_underundersection = '–í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –Ω–µ—Ç –ü–æ–¥–ø–æ–¥—Å–µ–∫—Ü–∏–∏'
        if chosenDirecton == SIM:
            text = SIM_list
            chosen_underundersection = '–í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –Ω–µ—Ç –ü–æ–¥–ø–æ–¥—Å–µ–∫—Ü–∏–∏'
        if chosenDirecton == SFL:
            text = SFL_list
        if chosenDirecton == KP:
            text = KP_list
            chosen_underundersection = '–í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –Ω–µ—Ç –ü–æ–¥–ø–æ–¥—Å–µ–∫—Ü–∏–∏'
        bot.send_message(message.chat.id, '–ü—Ä–∏–¥—É–º—ã–≤–∞—é —Ç–µ–º—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ü§ì –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        TopicsVars = get_chatgpt_response(f'{createOtherTopics} {chosenDirecton}, –û–°–ù–û–í–´–í–ê–Ø–°–¨ (–ù–ï –±–µ—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Ç–µ–º—ã) –Ω–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ø–æ–¥—Å–µ–∫—Ü–∏–∏ {chosen_section} –∏–∑ {text}  (–ï—Å–ª–∏ {chosenDirecton} - SFL, —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ü–æ–¥–ø–æ–¥—Å–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π {chosen_underundersection}, –ü–æ–¥—Å–µ–∫—Ü–∏—è - {chosen_section}). –í –º–∞—Å—Å–∏–≤–µ {used_topics} –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å–ø–∏—Å–∫–∏, –≤ –∫–∞–∂–¥–æ–º –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ 4 —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Ö—Å—è —Ç–µ–º—ã, –ø–æ—ç—Ç–æ–º—É –Ω–æ–≤—ã–µ —Ç–µ–º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –Ω–∏ —Å –æ–¥–Ω–æ–π –∏–∑ —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∞—Ö –º–∞—Å—Å–∏–≤–∞ {used_topics}. {rulesForGPTPrompt}')
        bot.send_message(message.chat.id, TopicsVars)
        sv = (split_vars(TopicsVars))
        used_topics.append(sv)
    elif message.text == '–ù–∞–∑–∞–¥ –∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º':
        used_topics = []
        sv = []
        back_to_directions(message)
    elif message.text == '–¢–µ–º–∞ ‚Ññ1':
        bot.send_message(message.chat.id, '–°–µ–π—á–∞—Å —è —Å–æ–∑–¥–∞–º –ø–ª–∞–Ω –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        bot.send_message(message.chat.id, get_chatgpt_response(f'C–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Ç–µ–º–µ {sv[0]}. –°–æ–±–ª—é–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞: {rulesForGPTPrompt}'))
    elif message.text == '–¢–µ–º–∞ ‚Ññ2':
        bot.send_message(message.chat.id, '–°–µ–π—á–∞—Å —è —Å–æ–∑–¥–∞–º –ø–ª–∞–Ω –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        bot.send_message(message.chat.id, get_chatgpt_response(f'C–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Ç–µ–º–µ {sv[1]}. –°–æ–±–ª—é–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞: {rulesForGPTPrompt}'))
    elif message.text == '–¢–µ–º–∞ ‚Ññ3':
        bot.send_message(message.chat.id, '–°–µ–π—á–∞—Å —è —Å–æ–∑–¥–∞–º –ø–ª–∞–Ω –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        bot.send_message(message.chat.id, get_chatgpt_response(f'C–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Ç–µ–º–µ {sv[2]}. –°–æ–±–ª—é–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞: {rulesForGPTPrompt}'))
    elif message.text == '–¢–µ–º–∞ ‚Ññ4':
        bot.send_message(message.chat.id, '–°–µ–π—á–∞—Å —è —Å–æ–∑–¥–∞–º –ø–ª–∞–Ω –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        bot.send_message(message.chat.id, get_chatgpt_response(f'C–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Ç–µ–º–µ {sv[3]}. –°–æ–±–ª—é–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞: {rulesForGPTPrompt}'))
    # ========================================================================================================================================== #
    elif check_match(message.text) == True:
        bot.send_message(message.chat.id, '–°–µ–π—á–∞—Å —è —Å–æ–∑–¥–∞–º –ø–ª–∞–Ω –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
        bot.send_message(message.chat.id, get_chatgpt_response(f'–°–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–Ω –≤ {message.text}. –°–æ–±–ª—é–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞: {rulesForGPTPrompt}'))
    elif check_match(message.text) == False:
        bot.send_message(message.chat.id,'–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–æ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è')
    # ========================================================================================================================================== #
    elif (message.text in list(str(x) for x in range(1, 20)) or (message.text[0] in ['a', 'b', 'c', 'd', 'A', 'B', 'C', 'D'])):
        if chosenDirecton == EOF:
            bot.send_message(message.chat.id, '–ü—Ä–∏–¥—É–º—ã–≤–∞—é —Ç–µ–º—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ü§ì –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
            chosen_section = get_chatgpt_response(f'–ù–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ –ø–æ–¥ ‚Ññ{message.text} –∏–∑ {directivityForEOF}')
            TopicsVars = get_chatgpt_response(f'{rulesForGPTPrompt}, {createTopics} "{EOF}", –û–°–ù–û–í–´–í–ê–Ø–°–¨ (–ù–ï –±–µ—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Ç–µ–º—ã) –Ω–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ø–æ–¥—Å–µ–∫—Ü–∏–∏ "{chosen_section}" –∏–∑ {EOF_list}')
            sv = (split_vars(TopicsVars))
            used_topics.append(sv)
            bot.send_message(message.chat.id, TopicsVars, topics(message))
        if chosenDirecton == SFL:
            bot.send_message(message.chat.id, '–ü—Ä–∏–¥—É–º—ã–≤–∞—é —Ç–µ–º—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ü§ì –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
            chosen_section = get_chatgpt_response(f'–ù–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ –ø–æ–¥ –±—É–∫–≤–æ–π {message.text[0]} –∏–∑ {directivityForSFL}')
            if message.text[0] == 'a' or message.text[0] == 'A':
                chosen_undersection = directivityForSFL_list_a
                chosen_underundersection = chosen_undersection[int(message.text[2:])-1]
            if message.text[0] == 'b' or message.text[0] == 'B':
                chosen_undersection = directivityForSFL_list_b
                chosen_underundersection = chosen_undersection[int(message.text[2:])-1]
            if message.text[0] == 'c' or message.text[0] == 'C':
                chosen_undersection = directivityForSFL_list_c
                chosen_underundersection = chosen_undersection[int(message.text[2:])-1]
            if message.text[0] == 'd' or message.text[0] == 'D':
                chosen_undersection = directivityForSFL_list_d
                chosen_underundersection =chosen_undersection[int(message.text[2:])-1]
            TopicsVars = get_chatgpt_response(f'{rulesForGPTPrompt}, {createTopics} "{SFL}", –û–°–ù–û–í–´–í–ê–Ø–°–¨ (–ù–ï –±–µ—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Ç–µ–º—ã) –Ω–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ü–æ–¥–ø–æ–¥—Å–µ–∫—Ü–∏–∏ {chosen_underundersection} –ü–æ–¥—Å–µ–∫—Ü–∏–∏ {chosen_undersection} –∏–∑ {SFL_list}')
            sv = (split_vars(TopicsVars))
            used_topics.append(sv)
            bot.send_message(message.chat.id, TopicsVars, topics(message))
        if chosenDirecton == KP:
            bot.send_message(message.chat.id, '–ü—Ä–∏–¥—É–º—ã–≤–∞—é —Ç–µ–º—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ü§ì –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
            chosen_section = get_chatgpt_response(f'–ù–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ –ø–æ–¥ ‚Ññ{message.text} –∏–∑ {directivityForKP}')
            TopicsVars = get_chatgpt_response(f'{rulesForGPTPrompt}, {createTopics} "{KP}", –û–°–ù–û–í–´–í–ê–Ø–°–¨ (–ù–ï –±–µ—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Ç–µ–º—ã) –Ω–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ø–æ–¥—Å–µ–∫—Ü–∏–∏ "{chosen_section}" –∏–∑ {KP_list}')
            sv = (split_vars(TopicsVars))
            used_topics.append(sv)
            bot.send_message(message.chat.id, TopicsVars, topics(message))
        if chosenDirecton == SIM:
            bot.send_message(message.chat.id, '–ü—Ä–∏–¥—É–º—ã–≤–∞—é —Ç–µ–º—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ü§ì –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è.')
            chosen_section = get_chatgpt_response(f'–ù–∞–ø–∏—à–∏ –¢–û–õ–¨–ö–û –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ {message.text}, –≥–¥–µ –±—É–∫–≤–∞ - –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ü–∏—Ñ—Ä–∞ - –Ω–æ–º–µ—Ä —Å–µ–∫—Ü–∏–∏ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏–∑ {directivityForSIM} –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–µ–∫—Ü–∏–∏. (–ü—Ä–∏–º–µ—Ä: –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ a –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 8 –∏–¥—ë—Ç —Å–µ–∫—Ü–∏—è "–ù–∞—É–∫–∏ –æ –ó–µ–º–ª–µ")')
            TopicsVars = get_chatgpt_response(f'{rulesForGPTPrompt}, {createTopics} "{SIM}", –û–°–ù–û–í–´–í–ê–Ø–°–¨ (–ù–ï –±–µ—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Ç–µ–º—ã) –Ω–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ø–æ–¥—Å–µ–∫—Ü–∏–∏ "{chosen_section}" –∏–∑ {SIM_list}')
            sv = (split_vars(TopicsVars))
            used_topics.append(sv)
            bot.send_message(message.chat.id, TopicsVars, topics(message))
    bot.register_next_step_handler(message, on_click)

#–ß—Ç–æ–±—ã –±–æ—Ç –Ω–µ –ø—Ä–µ–∫—Ä–∞—â–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Å –Ω–∏–º –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å bot.polling(none_stop=True) –∏–ª–∏ bot.infinity_polling()
bot.polling(none_stop=True)
